webpackJsonp([18],{L5ls:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("MMfn"),r={name:"editBrandToCate",data:function(){return{productCateInfo:{},props:{children:"sub_category",label:"name",value:"id"},productCateOptions:[],brandOptions:[]}},created:function(){if(this.$route.query.id){var t=JSON.parse(localStorage.getItem("brandToCate"))||{};this.productCateInfo.category_id=t.category.id,this.productCateInfo.brand_id=t.brand.id,console.log(this.productCateInfo)}this.getBrandList(),this.getProductCateList()},methods:{getBrandList:function(){var t=this;Object(a.m)().then(function(e){t.brandOptions=e.data})},getProductCateList:function(){var t=this;Object(a.q)().then(function(e){t.productCateOptions=e;var o=t;t.productCateInfo.category_id&&e.forEach(function(t){t.sub_category&&t.sub_category.length>0&&t.sub_category.forEach(function(e){e.sub_category&&e.sub_category.length>0&&e.sub_category.forEach(function(a){a.id==o.productCateInfo.category_id&&(o.productCateInfo.category_id=[t.id,e.id,a.id])})})})})},onSubmit:function(){var t=this;console.log(this.productCateInfo),this.productCateInfo.category_id=this.productCateInfo.category_id[2],this.$route.query.id?Object(a.C)(this.$route.query.id,this.productCateInfo).then(function(e){t.$message({type:"success",message:"修改成功!"}),t.$router.push("/brandcate")}).catch(function(e){console.log(e),t.$message({type:"success",message:e.msg})}):Object(a.c)(this.productCateInfo).then(function(e){t.$message({type:"success",message:"新增成功!"}),t.$router.push("/brandcate")}).catch(function(e){console.log(e),t.$message({type:"success",message:e.smg})})}}},n={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"brand-cate"},[o("el-form",{ref:"productCateFrom",attrs:{model:t.productCateInfo,"label-width":"150px"}},[o("el-form-item",{attrs:{label:"分类：",prop:"name"}},[o("el-cascader",{attrs:{options:t.productCateOptions,props:t.props},model:{value:t.productCateInfo.category_id,callback:function(e){t.$set(t.productCateInfo,"category_id",e)},expression:"productCateInfo.category_id"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"品牌："}},[o("el-select",{attrs:{placeholder:"请选择品牌"},model:{value:t.productCateInfo.brand_id,callback:function(e){t.$set(t.productCateInfo,"brand_id",e)},expression:"productCateInfo.brand_id"}},t._l(t.brandOptions,function(t){return o("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("productCateFrom")}}},[t._v("提交")])],1)],1)],1)},staticRenderFns:[]};var c=o("VU/8")(r,n,!1,function(t){o("QHb8")},null,null);e.default=c.exports},QHb8:function(t,e){}});
//# sourceMappingURL=18.c802fbeb05601b0d7233.js.map