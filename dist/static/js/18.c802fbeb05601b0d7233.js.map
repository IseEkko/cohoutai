{"version":3,"sources":["webpack:///src/views/pms/productCate/editBrandToCate.vue","webpack:///./src/views/pms/productCate/editBrandToCate.vue?30c2","webpack:///./src/views/pms/productCate/editBrandToCate.vue"],"names":["editBrandToCate","name","data","productCateInfo","props","children","label","value","productCateOptions","brandOptions","created","this","$route","query","id","obj","JSON","parse","localStorage","getItem","category_id","category","brand_id","brand","console","log","getBrandList","getProductCateList","methods","_this2","Object","goods","then","response","_this3","_this","forEach","res","sub_category","length","item","sub","onSubmit","_this4","$message","type","message","$router","push","catch","err","msg","smg","productCate_editBrandToCate","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","label-width","prop","options","callback","$$v","$set","expression","_v","placeholder","_l","key","on","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/18.c802fbeb05601b0d7233.js","sourcesContent":["<template> \n    <div class=\"brand-cate\">\n        <el-form :model=\"productCateInfo\"\n             ref=\"productCateFrom\"\n             label-width=\"150px\">\n\n            <el-form-item label=\"分类：\" prop=\"name\">\n                <el-cascader\n                    v-model=\"productCateInfo.category_id\"\n                    :options=\"productCateOptions\"\n                    :props=\"props\"></el-cascader>\n        </el-form-item>\n\n            <el-form-item label=\"品牌：\">\n                <el-select v-model=\"productCateInfo.brand_id\"\n                        placeholder=\"请选择品牌\" >\n                <el-option\n                    v-for=\"item in brandOptions\"\n                    :key=\"item.id\"\n                    :label=\"item.name\"\n                    :value=\"item.id\">\n                </el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item>\n                <el-button type=\"primary\" @click=\"onSubmit('productCateFrom')\">提交</el-button>\n            </el-form-item>\n        </el-form>\n    </div>\n</template>\n<script>\nimport {getBrands,getCategorys,getBrandToCateDetail,createBrandToCate,putBrandToCate} from '@/apis/goods'\n  export default {\n    name: 'editBrandToCate',\n    data() {\n        return{\n            productCateInfo:{},\n            props:{\n                children:'sub_category',\n                label:'name',\n                value:'id'\n            },\n            productCateOptions:[],\n            brandOptions:[]\n        }\n    },\n    created() {\n        if(this.$route.query.id) {\n            // getBrandToCateDetail(this.$route.query.id).then(res=> {\n                let obj = JSON.parse(localStorage.getItem('brandToCate'))||{}\n                this.productCateInfo.category_id = obj.category.id\n                this.productCateInfo.brand_id = obj.brand.id\n                console.log(this.productCateInfo)\n                // this.productCateInfo.id = obj.id\n                // localStorage.delete('brandToCate')\n            // })\n        }\n\n      this.getBrandList();\n      this.getProductCateList();\n    },\n    methods:{\n        getBrandList() {\n        getBrands().then(response => {\n          this.brandOptions = response.data;\n        });\n      },\n      getProductCateList() {\n        getCategorys().then(response => {\n          this.productCateOptions = response;\n          let _this = this\n          if(this.productCateInfo.category_id){\n              response.forEach(res=> {\n                  if(res.sub_category&&res.sub_category.length>0) {\n                    res.sub_category.forEach(item=> {\n                        if(item.sub_category&&item.sub_category.length>0) {\n                            item.sub_category.forEach(sub=> {\n                                if(sub.id ==_this.productCateInfo.category_id){\n                                    _this.productCateInfo.category_id=[res.id,item.id,sub.id]\n                                }\n                            })\n\n                        }\n                    })\n                  }\n              })\n          }\n        });\n      },\n      onSubmit() {\n          console.log(this.productCateInfo)\n          this.productCateInfo.category_id = this.productCateInfo.category_id[2]\n          if(this.$route.query.id) {\n              putBrandToCate(this.$route.query.id,this.productCateInfo).then(res=> {\n                    this.$message({\n                        type: 'success',\n                        message: '修改成功!'\n                    });\n                    this.$router.push('/brandcate')\n              }).catch(err=> {\n                  console.log(err)\n                  this.$message({\n                        type: 'success',\n                        message: err.msg\n                    });\n              })\n          } else {\n              createBrandToCate(this.productCateInfo).then(res=> {\n                    this.$message({\n                        type: 'success',\n                        message: '新增成功!'\n                    });\n                    this.$router.push('/brandcate')\n              }).catch(err=> {\n                  console.log(err)\n                  this.$message({\n                        type: 'success',\n                        message: err.smg\n                    });\n              })\n          }\n      }\n    }\n  }\n</script>\n<style>\n.brand-cate{\n    margin-top: 30px\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/pms/productCate/editBrandToCate.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"brand-cate\"},[_c('el-form',{ref:\"productCateFrom\",attrs:{\"model\":_vm.productCateInfo,\"label-width\":\"150px\"}},[_c('el-form-item',{attrs:{\"label\":\"分类：\",\"prop\":\"name\"}},[_c('el-cascader',{attrs:{\"options\":_vm.productCateOptions,\"props\":_vm.props},model:{value:(_vm.productCateInfo.category_id),callback:function ($$v) {_vm.$set(_vm.productCateInfo, \"category_id\", $$v)},expression:\"productCateInfo.category_id\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"品牌：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择品牌\"},model:{value:(_vm.productCateInfo.brand_id),callback:function ($$v) {_vm.$set(_vm.productCateInfo, \"brand_id\", $$v)},expression:\"productCateInfo.brand_id\"}},_vm._l((_vm.brandOptions),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.onSubmit('productCateFrom')}}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-76d16d40\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/pms/productCate/editBrandToCate.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-76d16d40\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./editBrandToCate.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./editBrandToCate.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./editBrandToCate.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-76d16d40\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./editBrandToCate.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/pms/productCate/editBrandToCate.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}